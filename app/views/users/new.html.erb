<h1> Creating a new user </h1>

<%# Manual form
<form action="/users" method="post" accept-charset="UTF-8">
  <%= csrf_meta_tags %>


<%#
  <label for="user_name">Name</label>
  <input type="text" id="user_name" name="user[username]">

  <label for="user_email">Email</label>
  <input type="email" id="user_email" name="user[email]">

  <label for="user_password">Password</label>
  <input type="password" id="user_password" name="user[password]">
 
  <input type="submit" value="Create User">
</form>
%>

<%# Form with #form_tag and #*_tag helpers 
<%= form_tag("/users", method: 'post') do%>
<%#  <div>
    <%= label_tag 'username'%> 
<%#    <%= text_field_tag 'username'%>
<%#  </div>
  
  <div>
    <%= label_tag 'email'%>
<%#    <%= email_field_tag 'email'%>
<%#  </div>
  
  <div>
    <%= label_tag 'password'%>
 <%#   <%= password_field_tag 'password'%>
<%#  </div>
 
  <div>
    <%= submit_tag 'Create User'%>
<%#  </div>
<% end %>

<%# Form with #form_with helper and @user %>

<%= form_with model: @user do |form|%>

  <div>
    <%= form.label :username, 'Your user name here' %>
    <%= form.text_field :username, placeholder: 'superHero69' %>
  
    <% if @user.errors.include?(:username) %>
      <p class="error-message">
        <%= @user.errors.full_messages_for(:username).join(', ') %>
      </p>
    <% end %>
  </div>

  <div>
    <%= form.label :email%>
    <%= form.email_field :email, placeholder: 'example@example.com' %>
    <% if @user.errors.include?(:email) %>
      <p class="error-message">
        <%= @user.errors.full_messages_for(:email).join(', ') %>
      </p>
    <% end %>
  </div>

   <div>
    <%= form.label :password%>
    <%= form.password_field :password%>
    <% if @user.errors.include?(:password) %>
      <p class="error-message">
        <%= @user.errors.full_messages_for(:password).join(', ') %>
      </p>
    <% end %>
  </div>
  
  <div>
    <%= form.submit "Create user"%>
  </div>  
<% end %>